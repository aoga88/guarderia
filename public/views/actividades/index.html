<ng-include src="'/views/common/header.html'"></ng-include>

<div class="container" ng-init="list()">
	<div class="row">
		<h1>Actividades</h1>
	</div>

	<div class="row">
		<div class="col-xs-12">
			<button class="btn btn-success" ng-click="newActividad()">Registrar Actividad</button>
		</div>
	</div>
	<br/>
	<form role="form" name="actividadForm" ng-show="showForm">
		<div class="form-group has-feedback" ng-class="{'has-success': actividadForm.nombre.$valid, 'has-error': actividadForm.nombre.$invalid}">
			<label class="control-label">Actividad:</label>
			<textarea class="form-control" ng-model="actualActividad.nombre" ng-required="true" rows="3" name="nombre"></textarea>
		</div>
		<div class="form-group">
			<button class="btn btn-success" type="button" ng-disabled="actividadForm.$invalid" ng-click="save()">Guardar</button>
			<button class="btn btn-danger" type="button" ng-click="actualActividad = {}; showForm = false">Cancelar</button>
		</div>
	</form>
	<div class="row">
		<div class="col-lg-12">
			<div class="alert alert-danger" ng-show="actividades.length == 0">
				No hay actividades registrados
			</div>
			<br/><br/>
		</div>

		<table class="table table-striped">
			<thead>
				<tr>
					<th>Actividad</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="actividad in actividades" ng-class="{danger: actividad.active == false}">
					<td>{{ actividad.nombre }}</td>
					<td>
						<button class="btn btn-danger" ng-click="desactivar(actividad)" ng-show="actividad.active == true">Desactivar</button>
						<button class="btn btn-success" ng-click="activar(actividad)" ng-show="actividad.active == false">Activar</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>